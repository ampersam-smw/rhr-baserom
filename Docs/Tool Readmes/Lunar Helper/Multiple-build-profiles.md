You may find yourself thinking "I wish I could have different sets of configurations for different situations". Luckily, Lunar Helper has support for multiple build profiles, which can be used to insert different resources or use different emulators depending on the situation. A classic example would be having a `Debug` and `Release` profile, where you could use different emulators/debuggers for each profile, as well as potentially insert different patches that may help in detecting issues.

Lunar Helper supports up to ten different profiles in the same project, one of which always has to be a "default" profile. This is the profile that you will start in whenever you launch Lunar Helper.

To set up a default profile with the name `Release`, create a `default_profile_Release` folder in the same folder as your Lunar Helper executable. Then place config files with the specific settings you want to use for this profile in this folder. Note that any config files in the same folder as Lunar Helper will apply to **all** profiles, but individual profiles can overwrite config variables from these config files if they want to. 

For example, if you have a config file next to Lunar Helper with `emulator_path = some/path/snes9x.exe`, snes9x will be used by every profile, unless a config file in the profile's folder also specifies `emulator_path` in which case that emulator will be used for that profile instead.

The only exception to this is the `patches` list. All patches from config files in the same folder as Lunar Helper will be applied in all profiles, but if a profile also specifies a `patches` list, those patches will be applied as well. This allows you to apply extra patches in specific profiles without having to duplicate the whole `patches` list for every profile.

To add a `Debug` profile, just add a `profile_Debug` folder next to the `default_profile_Release` folder. 
If you launch Lunar Helper now, you should see your `Current profile` as well as a new function `S - Switch profile`, which is hidden if you're not using profiles:

![LunarHelper_qegMoAEL9s](https://user-images.githubusercontent.com/8695490/209820907-08064e7c-01f7-4f3d-a9fa-55a8486f0593.png)

when you hit `S`, you should see:

![LunarHelper_hDrLZ4lURk](https://user-images.githubusercontent.com/8695490/209821026-a521b399-3373-4a3a-a3be-67a66a3723ec.png)

when you hit `1`, you will then see:

![LunarHelper_o9tzVQK5OU](https://user-images.githubusercontent.com/8695490/209821075-5b21c647-1b4d-414b-96cb-4513018c7fa6.png)

As you can see, the profiles are color-coded to make it easy to tell which profile you're currently in.

When you use Lunar Helper now, the config files in the corresponding profile's folder will apply. Note that every time you close and reopen Lunar Helper, you will be placed back in the default profile.

## Advanced profiles for coders

For the asm-savy, Lunar Helper will generate a `.lunar_helper/current_profile.asm` file in the configured working directory before every type of build, which you can read from to customize asm at a granular level if desired.

The contents of the file will look something like this:
```
; DO NOT EDIT THIS FILE MANUALLY, IT IS AUTOMATICALLY GENERATED BY LUNAR HELPER 
; Feel free to incsrc this to determine the currently active Lunar Helper profile though!

!LH_PROFILE_Debug = 1 ; Format: "!LH_PROFILE_<profile_name> = 1", current profile is: Debug
```

The `Debug` part of the `!LH_PROFILE_Debug` define reflects the current profile's name.

To use this in code, you can `incsrc` the file and then check if a specific profile is defined like this:

```
incsrc "../../.lunar_helper/current_profile.asm"  ; example path, may be different in your project

; other code here...

if defined("LH_PROFILE_Debug")
    ; do debug things here
elseif defined("LH_PROFILE_Release")
    ; do release things here
endif
```